# AlgoTrendy v2.6 - Environment Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_NAME=AlgoTrendy
APP_VERSION=2.6.0
ENVIRONMENT=development
DEBUG_MODE=true
LOG_LEVEL=Information

# ============================================================================
# DATABASE CONNECTIONS
# ============================================================================

# QuestDB (Primary Time-Series Database)
QUESTDB_HOST=localhost
QUESTDB_HTTP_PORT=9000
QUESTDB_PG_PORT=8812
QUESTDB_ILP_PORT=9009
QUESTDB_DATABASE=algotrendy
QUESTDB_USER=admin
QUESTDB_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# Redis (Caching & Message Broker)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50

# PostgreSQL (Metadata & Configuration - if needed for migration)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=algotrendy_meta
POSTGRES_USER=algotrendy
POSTGRES_PASSWORD=CHANGE_ME_POSTGRES_PASSWORD

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================

# JWT Configuration
JWT_SECRET_KEY=CHANGE_ME_GENERATE_SECURE_RANDOM_256BIT_KEY
JWT_ISSUER=algotrendy.com
JWT_AUDIENCE=algotrendy-api
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_DAYS=7

# API Keys Encryption
ENCRYPTION_KEY=CHANGE_ME_GENERATE_SECURE_ENCRYPTION_KEY
ENCRYPTION_ALGORITHM=AES256

# CORS Settings
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ============================================================================
# EXCHANGE API CREDENTIALS
# ============================================================================

# Binance / Binance US
# Standard Binance configuration (used by the application)
Binance__ApiKey=your_binance_api_key_here
Binance__ApiSecret=your_binance_api_secret_here
Binance__UseTestnet=false
Binance__UseBinanceUS=true

# Legacy format (keeping for compatibility)
BINANCEUS_API_KEY=your_binance_us_api_key_here
BINANCEUS_API_SECRET=your_binance_us_api_secret_here
BINANCEUS_TESTNET=false

# Docker Compose format
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_API_SECRET=your_binance_secret_here
BINANCE_TESTNET=false
BINANCE_US=true

# OKX
OKX_API_KEY=your_okx_api_key_here
OKX_API_SECRET=your_okx_secret_here
OKX_PASSPHRASE=your_okx_passphrase_here
OKX_TESTNET=false

# Coinbase
COINBASE_API_KEY=your_coinbase_api_key_here
COINBASE_API_SECRET=your_coinbase_secret_here
COINBASE_SANDBOX=false

# Kraken
KRAKEN_API_KEY=your_kraken_api_key_here
KRAKEN_API_SECRET=your_kraken_secret_here

# Bybit
BYBIT_API_KEY=your_bybit_api_key_here
BYBIT_API_SECRET=your_bybit_secret_here
BYBIT_TESTNET=false

# TradeStation
TRADESTATION_API_KEY=your_tradestation_api_key_here
TRADESTATION_API_SECRET=your_tradestation_secret_here
TRADESTATION_ACCOUNT_ID=your_account_id_here
TRADESTATION_USE_PAPER=true  # true for sim-api, false for production

# NinjaTrader
NINJATRADER_USERNAME=your_ninjatrader_username_here
NINJATRADER_PASSWORD=your_ninjatrader_password_here
NINJATRADER_ACCOUNT_ID=your_account_id_here
NINJATRADER_CONNECTION_TYPE=REST  # REST or NinjaScript
NINJATRADER_HOST=localhost
NINJATRADER_PORT=36973  # Default NinjaTrader ATI port

# Interactive Brokers (IBKR)
IBKR_USERNAME=your_ibkr_username_here
IBKR_PASSWORD=your_ibkr_password_here
IBKR_ACCOUNT_ID=your_account_id_here
IBKR_GATEWAY_HOST=localhost
IBKR_GATEWAY_PORT=4001  # 4001 for live, 4002 for paper trading
IBKR_CLIENT_ID=1  # Unique client ID for TWS/Gateway connection
IBKR_USE_PAPER=true  # true for paper trading port

# MEXC (Cryptocurrency Exchange)
MEXC_API_KEY=your_mexc_api_key_here
MEXC_API_SECRET=your_mexc_api_secret_here
MEXC_USE_TESTNET=true  # true for testnet, false for production

# Alpaca Markets (Stocks & Crypto)
# Get your free API keys at: https://alpaca.markets/
Alpaca__ApiKey=your_alpaca_api_key_here
Alpaca__ApiSecret=your_alpaca_api_secret_here
Alpaca__UsePaper=true  # true for paper trading (recommended), false for live trading

# Legacy format (keeping for compatibility)
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_API_SECRET=your_alpaca_api_secret_here
ALPACA_USE_PAPER=true

# ============================================================================
# AI SERVICE CREDENTIALS
# ============================================================================

# OpenAI (GPT-4, Embeddings)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# Anthropic Claude
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-opus-20240229
ANTHROPIC_MAX_TOKENS=4096

# MemGPT Configuration
MEMGPT_SERVER_URL=http://localhost:8283
MEMGPT_ADMIN_TOKEN=your_memgpt_admin_token_here
MEMGPT_AGENT_ID=your_agent_id_here

# ============================================================================
# DATA CHANNELS & NEWS APIS
# ============================================================================

# NewsAPI
NEWSAPI_KEY=your_newsapi_key_here

# Alpha Vantage
ALPHAVANTAGE_API_KEY=your_alphavantage_key_here

# Finnhub
FINNHUB_API_KEY=your_finnhub_key_here

# CoinGecko
COINGECKO_API_KEY=your_coingecko_key_here

# DataBento
DATABENTO_API_KEY=your_databento_api_key_here

# Finnhub (Cryptocurrency Market Data)
FINHUB_API_KEY=your_finhub_api_key_here
Finnhub__ApiKey=your_finnhub_api_key_here
Finnhub__BaseUrl=https://finnhub.io/api/v1
Finnhub__TimeoutSeconds=30
Finnhub__EnableLogging=false
Finnhub__RateLimitPerMinute=60

# ============================================================================
# TRADING ENGINE CONFIGURATION
# ============================================================================

# Trading Parameters
MAX_POSITION_SIZE=10000
MAX_LEVERAGE=3
DEFAULT_RISK_PERCENTAGE=2
ENABLE_PAPER_TRADING=true
ENABLE_LIVE_TRADING=false

# Order Management
ORDER_TIMEOUT_SECONDS=30
MAX_RETRY_ATTEMPTS=3
ENABLE_ORDER_IDEMPOTENCY=true

# Risk Management
DAILY_LOSS_LIMIT=1000
ACCOUNT_RISK_LIMIT=5000
ENABLE_CIRCUIT_BREAKER=true
CIRCUIT_BREAKER_THRESHOLD=10

# ============================================================================
# CELERY & TASK QUEUE
# ============================================================================

CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true
CELERY_MAX_TASKS_PER_CHILD=1000
CELERY_WORKER_PREFETCH_MULTIPLIER=4

# ============================================================================
# API SERVER CONFIGURATION
# ============================================================================

# .NET API Server
API_HOST=0.0.0.0
API_PORT=5000
API_BASE_PATH=/api/v1
ENABLE_SWAGGER=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# SignalR WebSocket
SIGNALR_HUB_PATH=/hubs
SIGNALR_KEEPALIVE_INTERVAL=15
SIGNALR_CLIENT_TIMEOUT=30

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================

NEXT_PUBLIC_API_URL=http://localhost:5000
NEXT_PUBLIC_WS_URL=wss://localhost:5000
NEXT_PUBLIC_APP_NAME=AlgoTrendy
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Logging
SERILOG_MINIMUM_LEVEL=Information
SERILOG_WRITE_TO_FILE=true
SERILOG_FILE_PATH=logs/algotrendy-.log
SERILOG_ROLLING_INTERVAL=Day
SERILOG_RETAIN_FILE_COUNT=30

# Metrics (Prometheus)
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Distributed Tracing (Jaeger/OpenTelemetry)
ENABLE_TRACING=false
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# ============================================================================
# INFRASTRUCTURE & DEPLOYMENT
# ============================================================================

# Docker
DOCKER_REGISTRY=docker.io
DOCKER_IMAGE_TAG=latest

# Server Configuration
PRIMARY_SERVER=chicago-vps-1
BACKUP_SERVER=chicago-vm-2
DR_SERVER=cdmx-vps-3

# Health Checks
HEALTH_CHECK_INTERVAL_SECONDS=30
HEALTH_CHECK_TIMEOUT_SECONDS=10
HEALTH_CHECK_UNHEALTHY_THRESHOLD=3

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================

# Testing
RUN_INTEGRATION_TESTS=true
TEST_DATABASE_URL=questdb://localhost:8812/algotrendy_test
MOCK_EXCHANGE_APIS=true

# Development Tools
ENABLE_HOT_RELOAD=true
ENABLE_DETAILED_ERRORS=true
ASPNETCORE_ENVIRONMENT=Development
NODE_ENV=development
